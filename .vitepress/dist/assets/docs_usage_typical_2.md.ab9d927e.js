import{t as c,d as w}from"./chunks/index.9965c97d.js";import{I as _}from"./chunks/BKDImgContainer.9e999ac6.js";import{u as b,i as v,l as N}from"./chunks/useProviders.96dbce34.js";import{d as k,_ as I,J as h,c as T,k as s,n as t,N as A,a as e,V as E,o as P}from"./chunks/framework.ab3d0493.js";const q={ABIversion:2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[],outputs:[]},{name:"sendTransaction",inputs:[{name:"dest",type:"address"},{name:"value",type:"uint128"},{name:"bounce",type:"bool"},{name:"flags",type:"uint8"},{name:"payload",type:"cell"}],outputs:[]},{name:"transferOwnership",inputs:[{name:"newOwner",type:"uint256"}],outputs:[]},{name:"owner",inputs:[],outputs:[{name:"owner",type:"uint256"}]},{name:"_randomNonce",inputs:[],outputs:[{name:"_randomNonce",type:"uint256"}]}],data:[{key:1,name:"_randomNonce",type:"uint256"}],events:[{name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"uint256"},{name:"newOwner",type:"uint256"}],outputs:[]}],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"owner",type:"uint256"},{name:"_randomNonce",type:"uint256"}]},x={ABIversion:2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[{name:"codeNft",type:"cell"},{name:"ownerPubkey",type:"uint256"},{name:"json",type:"string"}],outputs:[]},{name:"mintNft",inputs:[{name:"json",type:"string"}],outputs:[]},{name:"setRemainOnNft",inputs:[{name:"remainOnNft",type:"uint128"}],outputs:[]},{name:"owner",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"uint256"}]},{name:"transferOwnership",inputs:[{name:"newOwner",type:"uint256"}],outputs:[]},{name:"getJson",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"json",type:"string"}]},{name:"totalSupply",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"count",type:"uint128"}]},{name:"nftCode",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"code",type:"cell"}]},{name:"nftCodeHash",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"codeHash",type:"uint256"}]},{name:"nftAddress",inputs:[{name:"answerId",type:"uint32"},{name:"id",type:"uint256"}],outputs:[{name:"nft",type:"address"}]},{name:"supportsInterface",inputs:[{name:"answerId",type:"uint32"},{name:"interfaceID",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]}],data:[{key:1,name:"_randomNonce",type:"uint32"}],events:[{name:"OwnershipTransferred",inputs:[{name:"oldOwner",type:"uint256"},{name:"newOwner",type:"uint256"}],outputs:[]},{name:"NftCreated",inputs:[{name:"id",type:"uint256"},{name:"nft",type:"address"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"creator",type:"address"}],outputs:[]},{name:"NftBurned",inputs:[{name:"id",type:"uint256"},{name:"nft",type:"address"},{name:"owner",type:"address"},{name:"manager",type:"address"}],outputs:[]}],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_supportedInterfaces",type:"optional(cell)"},{name:"_codeNft",type:"cell"},{name:"_totalSupply",type:"uint128"},{name:"_json",type:"string"},{name:"owner_",type:"uint256"},{name:"_randomNonce",type:"uint32"},{name:"_remainOnNft",type:"uint128"}]},S={ABIversion:2,version:"2.2",header:["time"],functions:[{name:"constructor",inputs:[{name:"collection",type:"address"}],outputs:[]},{name:"getInfo",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"collection",type:"address"},{name:"owner",type:"address"},{name:"nft",type:"address"}]},{name:"destruct",inputs:[{name:"gasReceiver",type:"address"}],outputs:[]}],data:[{key:1,name:"_nft",type:"address"}],events:[],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_nft",type:"address"},{name:"_collection",type:"address"},{name:"_owner",type:"address"}]},j={ABIversion:2,version:"2.2",header:["time"],functions:[{name:"constructor",inputs:[],outputs:[]},{name:"getInfo",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"collection",type:"address"}]},{name:"destruct",inputs:[{name:"gasReceiver",type:"address"}],outputs:[]}],data:[{key:1,name:"_collection",type:"address"}],events:[],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_collection",type:"address"}]},M={ABIversion:2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[{name:"owner",type:"address"},{name:"sendGasTo",type:"address"},{name:"remainOnNft",type:"uint128"},{name:"json",type:"string"}],outputs:[]},{name:"getJson",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"json",type:"string"}]},{name:"transfer",inputs:[{name:"to",type:"address"},{name:"sendGasTo",type:"address"},{components:[{name:"value",type:"uint128"},{name:"payload",type:"cell"}],name:"callbacks",type:"map(address,tuple)"}],outputs:[]},{name:"changeOwner",inputs:[{name:"newOwner",type:"address"},{name:"sendGasTo",type:"address"},{components:[{name:"value",type:"uint128"},{name:"payload",type:"cell"}],name:"callbacks",type:"map(address,tuple)"}],outputs:[]},{name:"changeManager",inputs:[{name:"newManager",type:"address"},{name:"sendGasTo",type:"address"},{components:[{name:"value",type:"uint128"},{name:"payload",type:"cell"}],name:"callbacks",type:"map(address,tuple)"}],outputs:[]},{name:"getInfo",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"collection",type:"address"}]},{name:"supportsInterface",inputs:[{name:"answerId",type:"uint32"},{name:"interfaceID",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]}],data:[{key:1,name:"_id",type:"uint256"}],events:[{name:"NftCreated",inputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"collection",type:"address"}],outputs:[]},{name:"OwnerChanged",inputs:[{name:"oldOwner",type:"address"},{name:"newOwner",type:"address"}],outputs:[]},{name:"ManagerChanged",inputs:[{name:"oldManager",type:"address"},{name:"newManager",type:"address"}],outputs:[]},{name:"NftBurned",inputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"collection",type:"address"}],outputs:[]}],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_supportedInterfaces",type:"optional(cell)"},{name:"_id",type:"uint256"},{name:"_collection",type:"address"},{name:"_owner",type:"address"},{name:"_manager",type:"address"},{name:"_json",type:"string"}]},u={Account:q,Collection:x,Index:S,IndexBasis:j,Nft:M},O=JSON.stringify({type:"Basic NFT",name:"Daemon #1",description:"The red daemons from hell",preview:{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"},files:[{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"}],external_url:"https://images.pexels.com",image:"/1.jpeg",attributes:[{trait_type:"Background",value:"hell"},{trait_type:"Skin Color",value:"red"},{trait_type:"teeth",value:"sharp white"},{trait_type:"nationality",value:"utbvir"},{trait_type:"jewelry",value:"fire water fire"},{trait_type:"crown",value:"golden"},{trait_type:"Rarity Rank",value:1}]}),H=JSON.stringify({type:"Basic NFT",name:"hell bite",description:"The red daemons from hell",preview:{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"},files:[{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"}],external_url:"https://images.pexels.com"});async function C(n=H){try{const[l,p]=await b(),r=u.Collection,a=(await l.getFullContractState({address:p})).state,B=await l.extractPublicKey(a.boc),y=await(await fetch("/scripts/artifacts/build_42/Collection.base64")).text(),F=await(await fetch("/scripts/artifacts/build_42/Nft.base64")).text(),o=(await l.splitTvc(F)).code,i={tvc:y,workchain:0,publicKey:B,initParams:{_randomNonce:Math.random()*6400|0}},d=await l.getExpectedAddress(r,i),D=await l.getStateInit(r,i);D.stateInit,await l.sendMessage({sender:p,recipient:d,amount:String(2*10**9),bounce:!1,stateInit:D.stateInit});const m=new l.Contract(r,d),{transaction:f}=await m.methods.constructor({codeNft:o,ownerPubkey:`0x${i.publicKey}`,json:n}).sendExternal({stateInit:D.stateInit,publicKey:i.publicKey});return(await m.methods.totalSupply({answerId:0}).call()).count=="0"?(c("Collection deployed successfully",1),`TIP4_1 collection deployed to ${d.toString()}`):(c("Collection deployment failed",0),`TIP4_1 collection deployment failed ! ${f.exitCode,f.resultCode}`)}catch(l){return c(l.message,0),l.message}}async function g(n,l=O){try{const[p,r]=await b();if(!v(p,n))return c("Please enter a valid collection address !",0),"Failed";const a=u.Collection,B=u.Nft,y=new p.Contract(a,new w.Address(n));y.getFullState;const F=Number((await y.methods.totalSupply({answerId:0}).call()).count),o=await y.methods.mintNft({json:l}).send({from:r,amount:String(2*10**9),bounce:!0});if(o.aborted)return`minting Nft failed ${o.exitCode,o.resultCode}`;const i=(await y.methods.nftAddress({answerId:0,id:F}).call()).nft,D=await new p.Contract(B,i).methods.getInfo({answerId:0}).call();return D.collection.toString()==n.toString()?(c(`Nft number ${D.id} Minted successfully`,1),`Nft number ${D.id} deployed to ${i.toString()}`):(c("Minting Nft failed",0),`TIP4_1 Nft deployment failed ! ${o.exitCode,o.resultCode}`)}catch(p){return c(p.message,0),p.message}}const $=k({name:"deployToken",components:{ImgContainer:_,loading:N},data(){return{LLdis:"cbShow",EIPdis:"cbHide",llAction:"llAction cbShow",eipAction:"eipAction cbHide",eipActionNft:"eipAction cbHide",eipActionCollection:"eipAction cbHide",collMeta:"cbHide",nftMeta:"cbHide",loadingText:" ",loadingText2:" "}},setup(){async function n(a){a.target.checked?a.target.parentElement.className.includes("collectionMetaCheck")?this.collMeta="cbHide":a.target.parentElement.className.includes("nftMetaCheck")&&(this.nftMeta="cbHide"):a.target.parentElement.className.includes("collectionMetaCheck")?this.collMeta="action Ain":a.target.parentElement.className.includes("nftMetaCheck")&&(this.nftMeta="action Ain")}async function l(){if(this.loadingText="",!this.$refs.actionCollectionMetaDefault.checked&&this.$refs.actionCollectionMeta.value==""){c("Collection metadata field is required !",0),this.loadingText="Failed";return}let a;this.$refs.actionCollectionMetaDefault.checked?a=await C():a=await C(this.$refs.actionCollectionMeta.value),a=a||"Failed",this.loadingText=a}async function p(){if(this.loadingText2="",this.$refs.actionCollectionAddress.value==""){c("collection address field is required !",0),this.loadingText2="Failed";return}if(!this.$refs.actionNftMetaDefault.checked&&this.$refs.actionNftMeta.value==""){c("Nft metadata field is required !",0),this.loadingText2="Failed";return}let a;this.$refs.actionNftMetaDefault.checked?a=await g(this.$refs.actionCollectionAddress.value):a=await g(this.$refs.actionCollectionAddress.value,this.$refs.actionNftMeta.value),a=a||"Failed",this.loadingText2=a}async function r(a){a.target.innerHTML.includes("everscale-inpage-provider(collection)")?(this.LLdis="cbHide",this.EIPdis="cbShow",this.llAction="llAction cbHide",this.eipAction="eipAction cbShow",this.eipActionNft="eipAction cbHide",this.eipActionCollection="eipAction cbShow"):a.target.innerHTML.includes("everscale-inpage-provider(nft)")?(this.LLdis="cbHide",this.EIPdis="cbShow",this.llAction="llAction cbHide",this.eipAction="eipAction cbShow",this.eipActionCollection="eipAction cbHide",this.eipActionNft="eipAction cbShow"):a.target.innerHTML.includes("locklift")&&(this.EIPdis="cbHide",this.LLdis="cbShow",this.llAction="llAction cbShow",this.eipAction="eipAction cbHide")}return{defaultMetaHandler:n,deployNft:p,deployCollection:l,codeBlockSwitchHandler:r}}}),ds=JSON.parse('{"title":"TIP4_2 (NFT Metadata) Deployment","description":"","frontmatter":{},"headers":[],"relativePath":"docs/usage/typical/2.md","filePath":"docs/usage/typical/2.md"}');const J=s("h1",{id:"tip4-2-nft-metadata-deployment",tabindex:"-1"},[e("TIP4_2 (NFT Metadata) Deployment "),s("a",{class:"header-anchor",href:"#tip4-2-nft-metadata-deployment","aria-label":'Permalink to "TIP4_2 (NFT Metadata) Deployment"'},"​")],-1),R={class:"deployToken"},G=E(`<p>The second part of the TIP4 standard pertains to the metadata of the NFTs. The metadata is a JSON object that represents information about the asset associated with a specific NFT ID. In most cases, the NFT represents a digital asset such as an image, video, or music, among others. In this scenario, the JSON metadata commonly contains information about the IPFS data store address where the associated asset is stored. The JSON object must have certain fields to be displayed by the explorers or wallets, although it can contain more advanced data about the specific digital asset.</p><p>In this section, we will guide you through the deployment process of the <a href="https://github.com/broxus/tip4/blob/master/contracts/TIP4_2/TIP4_2Collection.tsol" target="_blank" rel="noreferrer"><code>TIP4_2Collection</code></a> contract and the minting of a <a href="https://github.com/broxus/tip4/blob/master/contracts/TIP4_2/TIP4_2Nft.tsol" target="_blank" rel="noreferrer"><code>TIP4_2Nft</code></a> contract through it.</p><h2 id="step-1-prepare-the-contracts" tabindex="-1">Step 1: Prepare the Contracts <a class="header-anchor" href="#step-1-prepare-the-contracts" aria-label="Permalink to &quot;Step 1: Prepare the Contracts&quot;">​</a></h2><h3 id="nft-contract" tabindex="-1">Nft Contract <a class="header-anchor" href="#nft-contract" aria-label="Permalink to &quot;Nft Contract&quot;">​</a></h3><p>This time we just need to import the <code>TIP4_2</code> collection and nft contracts, the TIP4_1 contracts are inherited and constructed by the <code>TIP4_2</code> contracts.</p><p>Change the content of the <code>Nft.tsol</code> file according to the contract code below:</p><details><summary> show code</summary><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">solidity </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.61</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> expire</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> time</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> pubkey</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;@broxus/tip4/contracts/TIP4_2/TIP4_2Nft.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Nft</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">is</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">TIP4_2Nft</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">owner</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">sendGasTo</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">remainOnNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_1Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        owner,</span></span>
<span class="line"><span style="color:#BABED8;">        sendGasTo,</span></span>
<span class="line"><span style="color:#BABED8;">        remainOnNft</span></span>
<span class="line"><span style="color:#BABED8;">    )  </span><span style="color:#82AAFF;">TIP4_2Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></details><h3 id="collection-contract" tabindex="-1">Collection Contract <a class="header-anchor" href="#collection-contract" aria-label="Permalink to &quot;Collection Contract&quot;">​</a></h3><p>The collection contract will not import the <code>TIP4_1</code> contracts, as described in the previous part. As a change to the previous part of the standard, we need to specify which contract&#39;s function we are overriding when doing so. In the collection contract, the <code>_buildNftState</code> function must specify that it is overriding a function in the <code>TIP4_2Collection</code> contract, rather than the <code>TIP4_1Collection</code> contract used in the previous part of the standard.</p><p>Change the content of the <code>Collection.tsol</code> file according to the contract code below:</p><details><summary> show code</summary><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">solidity </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.61</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> expire</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> time</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> pubkey</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;@broxus/tip4/contracts/access/OwnableExternal.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;@broxus/tip4/contracts/TIP4_2/TIP4_2Collection.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;./Nft.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Collection</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">is</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">TIP4_2Collection</span><span style="color:#BABED8;">, </span><span style="color:#FFCB6B;">OwnableExternal</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint32</span><span style="color:#BABED8;"> static _randomNonce</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    * Errors</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    **/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint8</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">constant</span><span style="color:#BABED8;"> sender_is_not_owner </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint8</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">constant</span><span style="color:#BABED8;"> value_is_less_than_required </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">101</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/// _remainOnNft - the number of crystals that will remain after the entire mint</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/// process is completed on the Nft contract</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> _remainOnNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#C792EA;">TvmCell</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">codeNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint256</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">ownerPubkey</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">OwnableExternal</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        ownerPubkey</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_1Collection</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        codeNft</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_2Collection</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        jsonpragma ever-solidity &gt;= 0.61.2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">pragma AbiHeader expire;</span></span>
<span class="line"><span style="color:#BABED8;">pragma AbiHeader time;</span></span>
<span class="line"><span style="color:#BABED8;">pragma AbiHeader pubkey;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">import &#39;@broxus/tip4/contracts/TIP4_2/TIP4_2Nft.tsol&#39;;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">contract Nft is TIP4_2Nft </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">owner</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">sendGasTo</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">remainOnNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_1Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        owner,</span></span>
<span class="line"><span style="color:#BABED8;">        sendGasTo,</span></span>
<span class="line"><span style="color:#BABED8;">        remainOnNft</span></span>
<span class="line"><span style="color:#BABED8;">    )  </span><span style="color:#82AAFF;">TIP4_2Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">mintNft</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">external</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">virtual</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">require</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">msg</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value </span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> _remainOnNft </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value_is_less_than_required</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rawReserve</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint256</span><span style="color:#BABED8;"> id </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">uint256</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">_totalSupply</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        _totalSupply</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#BABED8;">        TvmCell codeNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_buildNftCode</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">address</span><span style="color:#89DDFF;">(this));</span></span>
<span class="line"><span style="color:#BABED8;">        TvmCell stateNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_buildNftState</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">codeNft</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> id</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> nftAddr </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> Nft</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            stateInit</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> stateNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            flag</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">128</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}(</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            _remainOnNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            json</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">emit</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">NftCreated</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">            id</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            nftAddr</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setRemainOnNft</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">remainOnNft</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">external</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">virtual</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">require</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">TIP4_1Collection</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_isOwner</span><span style="color:#89DDFF;">(),</span><span style="color:#BABED8;"> sender_is_not_owner</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        _remainOnNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> remainOnNft</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_isOwner</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">internal</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">override</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">onlyOwner</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">returns</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">bool</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_buildNftState</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#C792EA;">TvmCell</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">code</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint256</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">id</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">internal</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">virtual</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">override</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">TIP4_2Collection</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">pure</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">returns</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TvmCell</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">buildStateInit</span><span style="color:#89DDFF;">({</span></span>
<span class="line"><span style="color:#BABED8;">            contr</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Nft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            varInit</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">_id</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> id</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">            code</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> code</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></details><h3 id="build-the-contracts-artifacts" tabindex="-1">Build the Contracts Artifacts <a class="header-anchor" href="#build-the-contracts-artifacts" aria-label="Permalink to &quot;Build the Contracts Artifacts&quot;">​</a></h3><p>run the command below into your terminal to build the written contracts artifacts:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">locklift</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">build</span></span></code></pre></div><h3 id="store-contracts-code-and-tvc" tabindex="-1">Store Contracts Code and tvc <a class="header-anchor" href="#store-contracts-code-and-tvc" aria-label="Permalink to &quot;Store Contracts Code and tvc&quot;">​</a></h3><p>In order to deploy a contract using the <code>everscale-inpage-provider</code> tool we need the target contracts <code>code</code> and <code>tvc</code>.</p><p>Copy the build folder generated by the mentioned commend into the scripts folder of your project that using the <code>everscale-inpage-provider</code>.</p><h2 id="step-2-write-deployment-script" tabindex="-1">Step 2: Write Deployment Script <a class="header-anchor" href="#step-2-write-deployment-script" aria-label="Permalink to &quot;Step 2: Write Deployment Script&quot;">​</a></h2>`,18),L=s("p",null,[e("Change your "),s("a",{href:"./1.html"},"previously written script"),e(" on deploying the collection contract based on the following code sample.")],-1),K=s("div",{class:"info custom-block"},[s("p",{class:"custom-block-title"},"INFO"),s("p",null,[e("Before we start to write our scripts we need to make sure that there is a file named "),s("code",null,"02-deploy-tip4-2.ts"),e(" in the "),s("code",null,"script"),e(" folder in the project root.")])],-1),V=[L,K],U=s("p",null,[e("You can apply the changes on the script that is previously written to deploy the nft contract according to the script below to be able to deploy the "),s("code",null,"TIP4_2"),e(" associated contracts.")],-1),z=[U],X=E(`<div class="vp-code-group"><div class="tabs"><input type="radio" name="group-6ZXwy" id="tab-cRPzRBx" checked="checked"><label for="tab-cRPzRBx">locklift</label><input type="radio" name="group-6ZXwy" id="tab-o08UYHD"><label for="tab-o08UYHD">everscale-inpage-provider(collection)</label><input type="radio" name="group-6ZXwy" id="tab-MpESTq5"><label for="tab-MpESTq5">everscale-inpage-provider(nft)</label></div><div class="blocks"><div class="language-typescript active"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// preparing the json metadata objects</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> defaultNft</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Basic NFT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Daemon #1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The red daemons from hell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">preview</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&amp;cs=tinysrgb&amp;w=1260&amp;h=750&amp;dpr=1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">files</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&amp;cs=tinysrgb&amp;w=1260&amp;h=750&amp;dpr=1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">external_url</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.pexels.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/1.jpeg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">attributes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Background</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Skin Color</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">teeth</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">sharp white</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nationality</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">utbvir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jewelry</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fire water fire</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">crown</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">golden</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Rarity Rank</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> defaultCollection</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Basic NFT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hell bite</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The red daemons from hell</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">preview</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&amp;cs=tinysrgb&amp;w=1260&amp;h=750&amp;dpr=1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">files</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&amp;cs=tinysrgb&amp;w=1260&amp;h=750&amp;dpr=1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">external_url</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://images.pexels.com</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Deploying the collection contract with json object</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">contract</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> collectionContract </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">factory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deployContract</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">contract</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Collection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">publicKey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> signer</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">constructorParams</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">codeNft</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">factory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractArtifacts</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Nft</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">code</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">ownerPubkey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">0x</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">signer</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> collectionJsonMetadata</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">initParams</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">_randomNonce</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getRandomNonce</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toNano</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Minting the nft token using the json object</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mintNft</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> nftJsonMetadata </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> account</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">address</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">amount</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toNano</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Replace the line below with its according line from previous script</span></span>
<span class="line"><span style="color:#BABED8;">  console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> nftContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getJson</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">answerId</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#BABED8;">())</span><span style="color:#89DDFF;">;</span></span></code></pre></div><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Add the json object as the input when deploying the collection</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">transaction</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> deployRes </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">constructor</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">codeNft</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> nftCode</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">ownerPubkey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">0x</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">deployParams</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">!</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> jsonObj</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendExternal</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">stateInit</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> stateInit</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">stateInit</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">publicKey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> deployParams</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">!,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Add the json object as the input when minting an nft</span></span>
<span class="line"><span style="color:#BABED8;">     </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> mintRes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Transaction</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mintNft</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> jsonObj </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> providerAddress</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">amount</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">String</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">**</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">9</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">bounce</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div></div></div>`,1),Y=[X],Z={class:"action"},W=s("h2",{id:"step-3-deploy-the-nft",tabindex:"-1"},[e("Step 3: Deploy the NFT "),s("a",{class:"header-anchor",href:"#step-3-deploy-the-nft","aria-label":'Permalink to "Step 3: Deploy the NFT"'},"​")],-1),Q=E('<p>Use this command to deploy TIP-3 tokens:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">locklift</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">./scripts/02-deploy-tip4-2.ts</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">local</span></span></code></pre></div>',2),ss=s("p",null,"Congratulations, you have successfully deployed an NFT contract containing unique metadata 🎉",-1),ns=s("h3",{id:"deploy-tip4-1-collection",tabindex:"-1"},[e("Deploy TIP4_1 Collection "),s("a",{class:"header-anchor",href:"#deploy-tip4-1-collection","aria-label":'Permalink to "Deploy TIP4_1 Collection"'},"​")],-1),as={class:"container collectionMetaCheck"},ls=s("span",{class:"checkmark"},null,-1),os=s("h3",{id:"mint-tip4-1-nft",tabindex:"-1"},[e("Mint TIP4_1 Nft "),s("a",{class:"header-anchor",href:"#mint-tip4-1-nft","aria-label":'Permalink to "Mint TIP4_1 Nft"'},"​")],-1),es=s("p",{class:"actionInName",style:{"margin-bottom":"0"}},"Collection Address",-1),ps={ref:"actionCollectionAddress",class:"action Ain",type:"text"},ts={class:"container nftMetaCheck"},cs=s("span",{class:"checkmark"},null,-1);function rs(n,l,p,r,a,B){const y=h("ImgContainer"),F=h("loading");return P(),T("div",null,[J,s("div",R,[G,s("span",{class:t(n.LLdis)},V,2),s("span",{class:t(n.EIPdis)},z,2),s("div",{onClick:l[0]||(l[0]=(...o)=>n.codeBlockSwitchHandler&&n.codeBlockSwitchHandler(...o))},Y),s("div",Z,[W,s("div",{class:t(n.llAction)},[Q,A(y,{src:"/typical02.png",width:"100%",altText:"deployTip3Output"}),ss],2),s("div",{class:t(n.eipAction)},[s("div",{class:t(n.eipActionCollection)},[ns,s("p",null,[s("label",as,[e(" Use default metadata "),s("input",{class:"checkboxInput",ref:"actionCollectionMetaDefault",type:"checkbox",onClick:l[1]||(l[1]=(...o)=>n.defaultMetaHandler&&n.defaultMetaHandler(...o)),checked:"true"},null,512),ls])]),s("p",null,[s("textarea",{style:{resize:"none"},ref:"actionCollectionMeta",class:t(n.collMeta),type:"text",placeholder:"collection json metadata"},null,2)]),s("p",null,[s("button",{onClick:l[2]||(l[2]=(...o)=>n.deployCollection&&n.deployCollection(...o)),class:"deployTokenBut"},"deploy collection")]),s("p",{id:"output-p",class:t(n.EIPdis)},[A(F,{text:n.loadingText},null,8,["text"])],2)],2),s("div",{class:t(n.eipActionNft)},[os,es,s("input",ps,null,512),s("p",null,[s("label",ts,[e(" Use default metadata "),s("input",{class:"checkboxInput",ref:"actionNftMetaDefault",type:"checkbox",onClick:l[3]||(l[3]=(...o)=>n.defaultMetaHandler&&n.defaultMetaHandler(...o)),checked:"true"},null,512),cs])]),s("p",null,[s("textarea",{ref:"actionNftMeta",class:t(n.nftMeta),type:"text",placeholder:"Nft json metadata"},null,2)]),s("p",null,[s("button",{onClick:l[4]||(l[4]=(...o)=>n.deployNft&&n.deployNft(...o)),class:"deployTokenBut"},"Mint Nft")]),s("p",{id:"output-p",class:t(n.EIPdis)},[A(F,{text:n.loadingText2},null,8,["text"])],2)],2)],2)])])])}const As=I($,[["render",rs]]);export{ds as __pageData,As as default};
