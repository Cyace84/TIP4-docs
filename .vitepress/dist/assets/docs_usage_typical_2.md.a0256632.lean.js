import{t,d as w}from"./chunks/useProvider.2e5f59e5.js";import{I as _}from"./chunks/BKDImgContainer.a9f00260.js";import{u as b,i as v,l as N}from"./chunks/useProviders.6ecce3c8.js";import{d as k,_ as I,J as h,c as T,k as s,n as p,N as u,a as c,V as A,o as q}from"./chunks/framework.6ec58a3b.js";const P={ABIversion:2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[],outputs:[]},{name:"sendTransaction",inputs:[{name:"dest",type:"address"},{name:"value",type:"uint128"},{name:"bounce",type:"bool"},{name:"flags",type:"uint8"},{name:"payload",type:"cell"}],outputs:[]},{name:"transferOwnership",inputs:[{name:"newOwner",type:"uint256"}],outputs:[]},{name:"owner",inputs:[],outputs:[{name:"owner",type:"uint256"}]},{name:"_randomNonce",inputs:[],outputs:[{name:"_randomNonce",type:"uint256"}]}],data:[{key:1,name:"_randomNonce",type:"uint256"}],events:[{name:"OwnershipTransferred",inputs:[{name:"previousOwner",type:"uint256"},{name:"newOwner",type:"uint256"}],outputs:[]}],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"owner",type:"uint256"},{name:"_randomNonce",type:"uint256"}]},x={ABIversion:2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[{name:"codeNft",type:"cell"},{name:"ownerPubkey",type:"uint256"},{name:"json",type:"string"}],outputs:[]},{name:"mintNft",inputs:[{name:"json",type:"string"}],outputs:[]},{name:"setRemainOnNft",inputs:[{name:"remainOnNft",type:"uint128"}],outputs:[]},{name:"owner",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"value0",type:"uint256"}]},{name:"transferOwnership",inputs:[{name:"newOwner",type:"uint256"}],outputs:[]},{name:"getJson",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"json",type:"string"}]},{name:"totalSupply",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"count",type:"uint128"}]},{name:"nftCode",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"code",type:"cell"}]},{name:"nftCodeHash",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"codeHash",type:"uint256"}]},{name:"nftAddress",inputs:[{name:"answerId",type:"uint32"},{name:"id",type:"uint256"}],outputs:[{name:"nft",type:"address"}]},{name:"supportsInterface",inputs:[{name:"answerId",type:"uint32"},{name:"interfaceID",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]}],data:[{key:1,name:"_randomNonce",type:"uint32"}],events:[{name:"OwnershipTransferred",inputs:[{name:"oldOwner",type:"uint256"},{name:"newOwner",type:"uint256"}],outputs:[]},{name:"NftCreated",inputs:[{name:"id",type:"uint256"},{name:"nft",type:"address"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"creator",type:"address"}],outputs:[]},{name:"NftBurned",inputs:[{name:"id",type:"uint256"},{name:"nft",type:"address"},{name:"owner",type:"address"},{name:"manager",type:"address"}],outputs:[]}],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_supportedInterfaces",type:"optional(cell)"},{name:"_codeNft",type:"cell"},{name:"_totalSupply",type:"uint128"},{name:"_json",type:"string"},{name:"owner_",type:"uint256"},{name:"_randomNonce",type:"uint32"},{name:"_remainOnNft",type:"uint128"}]},S={ABIversion:2,version:"2.2",header:["time"],functions:[{name:"constructor",inputs:[{name:"collection",type:"address"}],outputs:[]},{name:"getInfo",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"collection",type:"address"},{name:"owner",type:"address"},{name:"nft",type:"address"}]},{name:"destruct",inputs:[{name:"gasReceiver",type:"address"}],outputs:[]}],data:[{key:1,name:"_nft",type:"address"}],events:[],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_nft",type:"address"},{name:"_collection",type:"address"},{name:"_owner",type:"address"}]},j={ABIversion:2,version:"2.2",header:["time"],functions:[{name:"constructor",inputs:[],outputs:[]},{name:"getInfo",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"collection",type:"address"}]},{name:"destruct",inputs:[{name:"gasReceiver",type:"address"}],outputs:[]}],data:[{key:1,name:"_collection",type:"address"}],events:[],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_collection",type:"address"}]},M={ABIversion:2,version:"2.2",header:["pubkey","time","expire"],functions:[{name:"constructor",inputs:[{name:"owner",type:"address"},{name:"sendGasTo",type:"address"},{name:"remainOnNft",type:"uint128"},{name:"json",type:"string"}],outputs:[]},{name:"getJson",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"json",type:"string"}]},{name:"transfer",inputs:[{name:"to",type:"address"},{name:"sendGasTo",type:"address"},{components:[{name:"value",type:"uint128"},{name:"payload",type:"cell"}],name:"callbacks",type:"map(address,tuple)"}],outputs:[]},{name:"changeOwner",inputs:[{name:"newOwner",type:"address"},{name:"sendGasTo",type:"address"},{components:[{name:"value",type:"uint128"},{name:"payload",type:"cell"}],name:"callbacks",type:"map(address,tuple)"}],outputs:[]},{name:"changeManager",inputs:[{name:"newManager",type:"address"},{name:"sendGasTo",type:"address"},{components:[{name:"value",type:"uint128"},{name:"payload",type:"cell"}],name:"callbacks",type:"map(address,tuple)"}],outputs:[]},{name:"getInfo",inputs:[{name:"answerId",type:"uint32"}],outputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"collection",type:"address"}]},{name:"supportsInterface",inputs:[{name:"answerId",type:"uint32"},{name:"interfaceID",type:"uint32"}],outputs:[{name:"value0",type:"bool"}]}],data:[{key:1,name:"_id",type:"uint256"}],events:[{name:"NftCreated",inputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"collection",type:"address"}],outputs:[]},{name:"OwnerChanged",inputs:[{name:"oldOwner",type:"address"},{name:"newOwner",type:"address"}],outputs:[]},{name:"ManagerChanged",inputs:[{name:"oldManager",type:"address"},{name:"newManager",type:"address"}],outputs:[]},{name:"NftBurned",inputs:[{name:"id",type:"uint256"},{name:"owner",type:"address"},{name:"manager",type:"address"},{name:"collection",type:"address"}],outputs:[]}],fields:[{name:"_pubkey",type:"uint256"},{name:"_timestamp",type:"uint64"},{name:"_constructorFlag",type:"bool"},{name:"_supportedInterfaces",type:"optional(cell)"},{name:"_id",type:"uint256"},{name:"_collection",type:"address"},{name:"_owner",type:"address"},{name:"_manager",type:"address"},{name:"_json",type:"string"}]},E={Account:P,Collection:x,Index:S,IndexBasis:j,Nft:M},O=JSON.stringify({type:"Basic NFT",name:"Daemon #1",description:"A curated collection of 10,000 Agents from the Venom blockchain deployed on a mission to take over Web3",preview:{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"},files:[{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"}],external_url:"https://images.pexels.com",image:"/1.jpeg",attributes:[{trait_type:"Background",value:"Orange 2"},{trait_type:"Skin Color",value:"Lightskin 2"},{trait_type:"Apparel",value:"Vest"},{trait_type:"Eyes",value:"Werewolf"},{trait_type:"Mask",value:"Villain"},{trait_type:"Hair",value:"Prettyboy 2"},{trait_type:"Rarity Rank",value:6001,display_type:"number"}]}),H=JSON.stringify({type:"Basic NFT",name:"Revolt Agents",description:"A curated collection of 10,000 Agents from the Venom blockchain deployed on a mission to take over Web3",preview:{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"},files:[{source:"https://images.pexels.com/photos/16115934/pexels-photo-16115934/free-photo-of-spooky-traditional-figurine.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",mimetype:"image/JPEG"}],external_url:"https://venom.network"});async function C(n=H){try{const[a,e]=await b(),r=E.Collection,F=(await a.getFullContractState({address:e})).state,l=await a.extractPublicKey(F.boc),y=await(await fetch("/scripts/artifacts/build_42/Collection.base64")).text(),B=await(await fetch("/scripts/artifacts/build_42/Nft.base64")).text(),o=(await a.splitTvc(B)).code,D={tvc:y,workchain:0,publicKey:l,initParams:{_randomNonce:Math.random()*6400|0}},d=await a.getExpectedAddress(r,D),i=await a.getStateInit(r,D);i.stateInit,await a.sendMessage({sender:e,recipient:d,amount:String(2*10**9),bounce:!1,stateInit:i.stateInit});const m=new a.Contract(r,d),{transaction:f}=await m.methods.constructor({codeNft:o,ownerPubkey:`0x${D.publicKey}`,json:n}).sendExternal({stateInit:i.stateInit,publicKey:D.publicKey});return(await m.methods.totalSupply({answerId:0}).call()).count=="0"?(t("Collection deployed successfully",1),`TIP4_1 collection deployed to ${d.toString()}`):(t("Collection deployment failed",0),`TIP4_1 collection deployment failed ! ${f.exitCode,f.resultCode}`)}catch(a){return t(a.message,0),a.message}}async function g(n,a=O){try{const[e,r]=await b();if(!v(e,n))return t("Please enter a valid collection address !",0),"Failed";const F=E.Collection,l=E.Nft,y=new e.Contract(F,new w.Address(n));y.getFullState;const B=Number((await y.methods.totalSupply({answerId:0}).call()).count),o=await y.methods.mintNft({json:a}).send({from:r,amount:String(2*10**9),bounce:!0});if(o.aborted)return`minting Nft failed ${o.exitCode,o.resultCode}`;const D=(await y.methods.nftAddress({answerId:0,id:B}).call()).nft,i=await new e.Contract(l,D).methods.getInfo({answerId:0}).call();return i.collection.toString()==n.toString()?(t(`Nft number ${i.id} Minted successfully`,1),`Nft number ${i.id} deployed to ${D.toString()}`):(t("Minting Nft failed",0),`TIP4_1 Nft deployment failed ! ${o.exitCode,o.resultCode}`)}catch(e){return t(e.message,0),e.message}}const $=k({name:"deployToken",components:{ImgContainer:_,loading:N},data(){return{LLdis:"cbShow",EIPdis:"cbHide",llSwitcher:"llSwitcher on",eipSwitcher:"eipSwitcher off",llAction:"llAction cbShow",eipAction:"eipAction cbHide",collMeta:"cbHide",nftMeta:"cbHide",loadingText:" ",loadingText2:" "}},setup(){function n(l){this.LLdis=="cbHide"&&(this.llSwitcher="llSwitcher on",this.eipSwitcher="eipSwitcher off"),this.EIPdis="cbHide",this.LLdis="cbShow",this.llAction="llAction cbShow",this.eipAction="eipAction cbHide"}async function a(l){this.EIPdis=="cbHide"&&(this.llSwitcher="llSwitcher off",this.eipSwitcher="eipSwitcher on"),this.LLdis="cbHide",this.EIPdis="cbShow",this.llAction="llAction cbHide",this.eipAction="eipAction cbShow"}async function e(l){l.target.checked?l.target.parentElement.className.includes("collectionMetaCheck")?this.collMeta="cbHide":l.target.parentElement.className.includes("nftMetaCheck")&&(this.nftMeta="cbHide"):l.target.parentElement.className.includes("collectionMetaCheck")?this.collMeta="action Ain":l.target.parentElement.className.includes("nftMetaCheck")&&(this.nftMeta="action Ain")}async function r(){if(this.loadingText="",!this.$refs.actionCollectionMetaDefault.checked&&this.$refs.actionCollectionMeta.value==""){t("Collection metadata field is required !",0),this.loadingText="Failed";return}let l;this.$refs.actionCollectionMetaDefault.checked?l=await C():l=await C(this.$refs.actionCollectionMeta.value),l=l||"Failed",this.loadingText=l}async function F(){if(this.loadingText2="",this.$refs.actionCollectionAddress.value==""){t("collection address field is required !",0),this.loadingText2="Failed";return}if(!this.$refs.actionNftMetaDefault.checked&&this.$refs.actionNftMeta.value==""){t("Nft metadata field is required !",0),this.loadingText2="Failed";return}let l;this.$refs.actionNftMetaDefault.checked?l=await g(this.$refs.actionCollectionAddress.value):l=await g(this.$refs.actionCollectionAddress.value,this.$refs.actionNftMeta.value),l=l||"Failed",this.loadingText2=l}return{eipHandler:a,llHandler:n,defaultMetaHandler:e,deployNft:F,deployCollection:r}}}),hs=JSON.parse('{"title":"TIP4_2 (NFT Metadata) Deployment","description":"","frontmatter":{},"headers":[],"relativePath":"docs/usage/typical/2.md","filePath":"docs/usage/typical/2.md"}');const J=s("h1",{id:"tip4-2-nft-metadata-deployment",tabindex:"-1"},[c("TIP4_2 (NFT Metadata) Deployment "),s("a",{class:"header-anchor",href:"#tip4-2-nft-metadata-deployment","aria-label":'Permalink to "TIP4_2 (NFT Metadata) Deployment"'},"​")],-1),R={class:"deployToken"},G=A(`<p>The second part of the TIP4 standard pertains to the metadata of the NFTs. The metadata is a JSON object that represents information about the asset associated with a specific NFT ID. In most cases, the NFT represents a digital asset such as an image, video, or music, among others. In this scenario, the JSON metadata commonly contains information about the IPFS data store address where the associated asset is stored. The JSON object must have certain fields to be displayed by the explorers or wallets, although it can contain more advanced data about the specific digital asset.</p><p>In this section, we will guide you through the deployment process of the <a href="https://github.com/broxus/tip4/blob/master/contracts/TIP4_2/TIP4_2Collection.tsol" target="_blank" rel="noreferrer"><code>TIP4_2Collection</code></a> contract and the minting of a <a href="https://github.com/broxus/tip4/blob/master/contracts/TIP4_2/TIP4_2Nft.tsol" target="_blank" rel="noreferrer"><code>TIP4_2Nft</code></a> contract through it.</p><h2 id="step-1-prepare-the-contracts" tabindex="-1">Step 1: Prepare the Contracts <a class="header-anchor" href="#step-1-prepare-the-contracts" aria-label="Permalink to &quot;Step 1: Prepare the Contracts&quot;">​</a></h2><h3 id="nft-contract" tabindex="-1">Nft Contract <a class="header-anchor" href="#nft-contract" aria-label="Permalink to &quot;Nft Contract&quot;">​</a></h3><p>This time we just need to import the TIP4_2 collection and nft contracts, the TIP4_1 contracts are inherited and constructed by the TIP4_2 contracts.</p><p>Change the content of the <code>Nft.tsol</code> file according to the contract code below:</p><details><summary> show code</summary><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">solidity </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.61</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> expire</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> time</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> pubkey</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;@broxus/tip4/contracts/TIP4_2/TIP4_2Nft.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Nft</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">is</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">TIP4_2Nft</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">owner</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">sendGasTo</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">remainOnNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_1Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        owner,</span></span>
<span class="line"><span style="color:#BABED8;">        sendGasTo,</span></span>
<span class="line"><span style="color:#BABED8;">        remainOnNft</span></span>
<span class="line"><span style="color:#BABED8;">    )  </span><span style="color:#82AAFF;">TIP4_2Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></details><h3 id="collection-contract" tabindex="-1">Collection Contract <a class="header-anchor" href="#collection-contract" aria-label="Permalink to &quot;Collection Contract&quot;">​</a></h3><p>The collection contract will not import the TIP4_1 contracts, as described in the previous part. As a change to the previous part of the standard, we need to specify which contract&#39;s function we are overriding when doing so. In the collection contract, the <code>_buildNftState</code> function must specify that it is overriding a function in the TIP4_2Collection contract, rather than the TIP4_1Collection contract used in the previous part of the standard.</p><p>Change the content of the <code>Collection.tsol</code> file according to the contract code below:</p><details><summary> show code</summary><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">-</span><span style="color:#BABED8;">solidity </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.61</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> expire</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> time</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">pragma</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">AbiHeader</span><span style="color:#BABED8;"> pubkey</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;@broxus/tip4/contracts/access/OwnableExternal.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;@broxus/tip4/contracts/TIP4_2/TIP4_2Collection.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">&#39;./Nft.tsol&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Collection</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">is</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">TIP4_2Collection</span><span style="color:#BABED8;">, </span><span style="color:#FFCB6B;">OwnableExternal</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint32</span><span style="color:#BABED8;"> static _randomNonce</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    * Errors</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    **/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint8</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">constant</span><span style="color:#BABED8;"> sender_is_not_owner </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint8</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">constant</span><span style="color:#BABED8;"> value_is_less_than_required </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">101</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/// _remainOnNft - the number of crystals that will remain after the entire mint</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/// process is completed on the Nft contract</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> _remainOnNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#C792EA;">TvmCell</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">codeNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint256</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">ownerPubkey</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">OwnableExternal</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        ownerPubkey</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_1Collection</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        codeNft</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_2Collection</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        jsonpragma ever-solidity &gt;= 0.61.2;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">pragma AbiHeader expire;</span></span>
<span class="line"><span style="color:#BABED8;">pragma AbiHeader time;</span></span>
<span class="line"><span style="color:#BABED8;">pragma AbiHeader pubkey;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">import &#39;@broxus/tip4/contracts/TIP4_2/TIP4_2Nft.tsol&#39;;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">contract Nft is TIP4_2Nft </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">owner</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">sendGasTo</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">remainOnNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#82AAFF;">TIP4_1Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        owner,</span></span>
<span class="line"><span style="color:#BABED8;">        sendGasTo,</span></span>
<span class="line"><span style="color:#BABED8;">        remainOnNft</span></span>
<span class="line"><span style="color:#BABED8;">    )  </span><span style="color:#82AAFF;">TIP4_2Nft</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        json</span></span>
<span class="line"><span style="color:#BABED8;">    ) </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">accept</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">mintNft</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">json</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">external</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">virtual</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">require</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">msg</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value </span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> _remainOnNft </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.1</span><span style="color:#BABED8;"> ever</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> value_is_less_than_required</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">rawReserve</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint256</span><span style="color:#BABED8;"> id </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">uint256</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">_totalSupply</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        _totalSupply</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#BABED8;">        TvmCell codeNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_buildNftCode</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">address</span><span style="color:#89DDFF;">(this));</span></span>
<span class="line"><span style="color:#BABED8;">        TvmCell stateNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_buildNftState</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">codeNft</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> id</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">address</span><span style="color:#BABED8;"> nftAddr </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> Nft</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            stateInit</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> stateNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            flag</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">128</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}(</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            _remainOnNft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            json</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">emit</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">NftCreated</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">            id</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            nftAddr</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            msg.sender</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">setRemainOnNft</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">uint128</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">remainOnNft</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">external</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">virtual</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">require</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">TIP4_1Collection</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">_isOwner</span><span style="color:#89DDFF;">(),</span><span style="color:#BABED8;"> sender_is_not_owner</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">        _remainOnNft </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> remainOnNft</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_isOwner</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">internal</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">override</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">onlyOwner</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">returns</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">bool</span><span style="color:#89DDFF;">){</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">_buildNftState</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#C792EA;">TvmCell</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">code</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#FFCB6B;">uint256</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">id</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">internal</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">virtual</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">override</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">TIP4_2Collection</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">pure</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">returns</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">TvmCell</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#BABED8;"> tvm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">buildStateInit</span><span style="color:#89DDFF;">({</span></span>
<span class="line"><span style="color:#BABED8;">            contr</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Nft</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">            varInit</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">_id</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> id</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">            code</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> code</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></details><h3 id="build-the-contracts-artifacts" tabindex="-1">Build the Contracts Artifacts <a class="header-anchor" href="#build-the-contracts-artifacts" aria-label="Permalink to &quot;Build the Contracts Artifacts&quot;">​</a></h3><p>run the command below into your terminal to build the written contracts artifacts:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">locklift</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">build</span></span></code></pre></div><h3 id="store-contracts-code-and-tvc" tabindex="-1">Store Contracts Code and tvc <a class="header-anchor" href="#store-contracts-code-and-tvc" aria-label="Permalink to &quot;Store Contracts Code and tvc&quot;">​</a></h3><p>In order to deploy a contract using the everscale-inpage-provider tool we need the target contracts code and tvc.</p><p>Copy the build folder generated by the mentioned commend into the scripts folder of your project that using the everscale-inpage-provider.</p><h2 id="step-2-write-deployment-script" tabindex="-1">Step 2: Write Deployment Script <a class="header-anchor" href="#step-2-write-deployment-script" aria-label="Permalink to &quot;Step 2: Write Deployment Script&quot;">​</a></h2>`,18),L=s("p",null,"Change your previously written script on deploying the collection contract based on the following code sample.",-1),V=s("div",{class:"info custom-block"},[s("p",{class:"custom-block-title"},"INFO"),s("p",null,[c("Before we start to write our scripts we need to make sure that there is a file named "),s("code",null,"02-deploy-tip4-2.ts"),c(" in the "),s("code",null,"script"),c(" folder in the project root.")])],-1),K=[L,V],z=s("p",null,"You can apply the changes on the script that is previously written to deploy the nft contract according to the script below to be able to deploy the TIP4_2 associated contracts.",-1),W=[z],U=s("br",null,null,-1),Y={class:"switcherContainer"},Q={class:"codeBlockContainer"},X=A(`<div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// preparing the json metadata objects</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> nftJsonMetadata</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Basic NFT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Agent #1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">A curated collection of 10,000 Agents from the Venom blockchain deployed on a mission to take over Web3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">preview</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://bafybeify5q7od6cthzgxjkdy22qtrxtxzl5hro7rbh3oyg2rxs736eept4.ipfs.w3s.link/images/1.jpeg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">files</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://bafybeify5q7od6cthzgxjkdy22qtrxtxzl5hro7rbh3oyg2rxs736eept4.ipfs.w3s.link/images/1.jpeg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">external_url</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://venom.network</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">image</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/1.jpeg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">attributes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Background</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Orange 2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Skin Color</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Lightskin 2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Apparel</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Vest</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Eyes</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Werewolf</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Mask</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Villain</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hair</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Prettyboy 2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">trait_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Rarity Rank</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">6001</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">display_type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> collectionJsonMetadata</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Basic NFT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Revolt Agents</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">description</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">A curated collection of 10,000 Agents from the Venom blockchain deployed on a mission to take over Web3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">preview</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://bafybeify5q7od6cthzgxjkdy22qtrxtxzl5hro7rbh3oyg2rxs736eept4.ipfs.w3s.link/images/1.jpeg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">files</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">source</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://bafybeify5q7od6cthzgxjkdy22qtrxtxzl5hro7rbh3oyg2rxs736eept4.ipfs.w3s.link/images/1.jpeg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">mimetype</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/JPEG</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">external_url</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://venom.network</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Deploying the collection contract with json object</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">contract</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> collectionContract </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">factory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deployContract</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">contract</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Collection</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">publicKey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> signer</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">constructorParams</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">codeNft</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">factory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getContractArtifacts</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Nft</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">code</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">ownerPubkey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">0x</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">signer</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> collectionJsonMetadata</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">initParams</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">_randomNonce</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getRandomNonce</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toNano</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">collection deployed to: </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">address</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">}\`</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Minting the nft token using the json object</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mintNft</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> nftJsonMetadata </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> account</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">address</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">amount</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">utils</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toNano</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> nftAddress </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> (</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">nftAddress</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">answerId</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#BABED8;">))</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">nft</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> nftContract </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> locklift</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">factory</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getDeployedContract</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Nft</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> nftAddress)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// Fetching the nft  metadata</span></span>
<span class="line"><span style="color:#BABED8;">  console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> nftContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getJson</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">answerId</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#BABED8;">())</span><span style="color:#89DDFF;">;</span></span></code></pre></div>`,1),Z=[X],ss=A(`<div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Add the json object as the input when deploying the collection</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">transaction</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> deployRes </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">constructor</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">codeNft</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> nftCode</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">ownerPubkey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">0x</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">deployParams</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">!</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> jsonObj</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendExternal</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">stateInit</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> stateInit</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">stateInit</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">publicKey</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> deployParams</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">publicKey</span><span style="color:#89DDFF;">!,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Add the json object as the input when deploying an nft</span></span>
<span class="line"><span style="color:#BABED8;">     </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> mintRes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Transaction</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#BABED8;"> collectionContract</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">methods</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mintNft</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">json</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> jsonObj </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">) </span><span style="color:#676E95;font-style:italic;">// added</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> providerAddress</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">amount</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">String</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">2</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">**</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">9</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">bounce</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div>`,2),ns=[ss],as={class:"action"},ls=s("h2",{id:"step-3-deploy-the-nft",tabindex:"-1"},[c("Step 3: Deploy the NFT "),s("a",{class:"header-anchor",href:"#step-3-deploy-the-nft","aria-label":'Permalink to "Step 3: Deploy the NFT"'},"​")],-1),os=A('<p>Use this command to deploy TIP-3 tokens:</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">locklift</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">./scripts/02-deploy-tip4-2.ts</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">local</span></span></code></pre></div>',2),ps=s("p",null,"Congratulations, you have successfully deployed an NFT contract containing unique metadata 🎉",-1),es=s("h3",{id:"deploy-tip4-1-collection",tabindex:"-1"},[c("Deploy TIP4_1 Collection "),s("a",{class:"header-anchor",href:"#deploy-tip4-1-collection","aria-label":'Permalink to "Deploy TIP4_1 Collection"'},"​")],-1),ts={class:"container collectionMetaCheck"},cs=s("span",{class:"checkmark"},null,-1),rs=s("h3",{id:"deploy-tip4-1-nft",tabindex:"-1"},[c("Deploy TIP4_1 Nft "),s("a",{class:"header-anchor",href:"#deploy-tip4-1-nft","aria-label":'Permalink to "Deploy TIP4_1 Nft"'},"​")],-1),ys={class:"deployByRoot"},Ds=s("p",{class:"actionInName",style:{"margin-bottom":"0"}},"Collection Address",-1),is={ref:"actionCollectionAddress",class:"action Ain",type:"text"},Fs={class:"container nftMetaCheck"},Bs=s("span",{class:"checkmark"},null,-1);function ds(n,a,e,r,F,l){const y=h("ImgContainer"),B=h("loading");return q(),T("div",null,[J,s("div",R,[G,s("span",{class:p(n.LLdis)},K,2),s("span",{class:p(n.EIPdis)},W,2),U,s("div",Y,[s("p",null,[s("button",{onClick:a[0]||(a[0]=(...o)=>n.llHandler&&n.llHandler(...o)),class:p(n.llSwitcher)},"locklift",2)]),s("p",null,[s("button",{onClick:a[1]||(a[1]=(...o)=>n.eipHandler&&n.eipHandler(...o)),class:p(n.eipSwitcher)},"everscale-inpage-provider ",2)])]),s("div",Q,[s("span",{class:p(n.LLdis)},Z,2),s("span",{class:p(n.EIPdis)},ns,2)]),s("div",as,[ls,s("div",{class:p(n.llAction)},[os,u(y,{src:"/typical02.png",width:"100%",altText:"deployTip3Output"}),ps],2),s("div",{class:p(n.eipAction)},[s("div",{class:p(n.deploy)},[es,s("p",null,[s("label",ts,[c(" Use default metadata "),s("input",{class:"checkboxInput",ref:"actionCollectionMetaDefault",type:"checkbox",onClick:a[2]||(a[2]=(...o)=>n.defaultMetaHandler&&n.defaultMetaHandler(...o)),checked:"true"},null,512),cs])]),s("p",null,[s("textarea",{style:{resize:"none"},ref:"actionCollectionMeta",class:p(n.collMeta),type:"text",placeholder:"collection json metadata"},null,2)]),s("p",null,[s("button",{onClick:a[3]||(a[3]=(...o)=>n.deployCollection&&n.deployCollection(...o)),class:"deployTokenBut"},"deploy collection")])],2),s("p",{id:"output-p",class:p(n.EIPdis)},[u(B,{text:n.loadingText},null,8,["text"])],2),rs,s("div",ys,[Ds,s("input",is,null,512),s("p",null,[s("label",Fs,[c(" Use default metadata "),s("input",{class:"checkboxInput",ref:"actionNftMetaDefault",type:"checkbox",onClick:a[4]||(a[4]=(...o)=>n.defaultMetaHandler&&n.defaultMetaHandler(...o)),checked:"true"},null,512),Bs])]),s("p",null,[s("textarea",{ref:"actionNftMeta",class:p(n.nftMeta),type:"text",placeholder:"Nft json metadata"},null,2)]),s("p",null,[s("button",{onClick:a[5]||(a[5]=(...o)=>n.deployNft&&n.deployNft(...o)),class:"deployTokenBut"},"Mint Nft")])]),s("p",{id:"output-p",class:p(n.EIPdis)},[u(B,{text:n.loadingText2},null,8,["text"])],2)],2)])])])}const Cs=I($,[["render",ds]]);export{hs as __pageData,Cs as default};
